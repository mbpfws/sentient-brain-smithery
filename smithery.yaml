# Smithery.ai Deployment Configuration for Sentient Brain MCP Server
# Simplified and optimized for reliable deployment

name: "Sentient Brain MCP"
description: "Multi-agent AI Code Developer system with SurrealDB unified data layer"
version: "1.0.0"

# Container deployment configuration
runtime: "container"
build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."

# Supported platforms
platforms:
  - claude-desktop
  - cursor
  - windsurf
  - vscode
  - vscode-insiders
  - raycast

# Required environment variables - Users will input these when connecting
env:
  - name: GROQ_API_KEY
    description: "Your Groq API key for LLM inference (get from console.groq.com)"
    type: secret
    required: true

  - name: GOOGLE_API_KEY
    description: "Your Google GenAI API key for enhanced capabilities (get from makersuite.google.com)"
    type: secret
    required: false

  - name: SURREAL_URL
    description: "SurrealDB WebSocket URL (use default for testing)"
    default: "ws://localhost:8000/rpc"
    required: false

  - name: SURREAL_USER
    description: "SurrealDB username (use default for testing)"
    default: "root"
    type: secret
    required: false

  - name: SURREAL_PASS
    description: "SurrealDB password (use default for testing)"
    default: "root"
    type: secret
    required: false

  - name: SURREAL_NAMESPACE
    description: "SurrealDB namespace"
    default: "sentient_brain"
    required: false

  - name: SURREAL_DATABASE
    description: "SurrealDB database name"
    default: "multi_agent"
    required: false

  - name: LOG_LEVEL
    description: "Application logging level"
    default: "INFO"
    required: false

# Service configuration
start:
  command: ["python", "mcp_server.py"]
  port: 8000
  timeout: 60

# Health monitoring
healthCheck:
  type: http
  path: "/health"
  port: 8000
  timeout: 30
  interval: 10

# Configuration schema for client setup
configSchema:
  type: "object"
  properties:
    GROQ_API_KEY:
      type: "string"
      description: "Groq API key for LLM inference"
      required: true
      sensitive: true
    
    SURREAL_URL:
      type: "string"
      description: "SurrealDB connection URL"
      default: "ws://localhost:8000/rpc"
    
    SURREAL_USER:
      type: "string"
      description: "SurrealDB username"
      default: "root"
      sensitive: true
    
    SURREAL_PASS:
      type: "string"
      description: "SurrealDB password"
      default: "root"
      sensitive: true
    
    GOOGLE_API_KEY:
      type: "string"
      description: "Google GenAI API key (optional)"
      sensitive: true
